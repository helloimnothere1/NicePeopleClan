<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>i eat pickes -1x1x1x1</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: black;
      color: white;
      border: 10px solid red;
      animation: bodyBorderRainbow 5s linear infinite;
    }

    @keyframes bodyBorderRainbow {
      0%   { border-color: hsl(0, 100%, 50%); }
      16.6%  { border-color: hsl(60, 100%, 50%); }
      33.3%  { border-color: hsl(120, 100%, 50%); }
      50%  { border-color: hsl(180, 100%, 50%); }
      66.6%  { border-color: hsl(240, 100%, 50%); }
      83.3%  { border-color: hsl(300, 100%, 50%); }
      100% { border-color: hsl(360, 100%, 50%); }
    }

    section {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    h1 { font-size: 3rem; margin: 10px 0; }

    #clickButton, .shop button, .upgradeShop button, #rebirthButton {
      background: red;
      border: 5px solid;
      border-radius: 15px;
      color: white;
      font-size: 18px;
      padding: 10px 20px;
      cursor: pointer;
      margin: 10px 0;
      animation: borderRainbow 3s linear infinite;
      min-width: 150px;
    }

    @keyframes borderRainbow {
      0%   { border-color: hsl(0, 100%, 50%); }
      16.6%  { border-color: hsl(60, 100%, 50%); }
      33.3%  { border-color: hsl(120, 100%, 50%); }
      50%  { border-color: hsl(180, 100%, 50%); }
      66.6%  { border-color: hsl(240, 100%, 50%); }
      83.3%  { border-color: hsl(300, 100%, 50%); }
      100% { border-color: hsl(360, 100%, 50%); }
    }

    #startButton {
      background: red;
      color: white;
      font-size: 2.5rem;
      padding: 20px 40px;
      border: 5px solid white;
      border-radius: 15px;
      cursor: pointer;
      animation: borderRainbow 3s linear infinite;
    }

    .divider {
      width: 100%;
      height: 10px;
      animation: bodyBorderRainbow 5s linear infinite;
    }

    .shop, .upgradeShop {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin: 10px 0;
      width: 80%;
    }

    .shop button, .upgradeShop button {
      flex: 1 1 150px;
      margin: 5px;
    }

    #dps {
      font-size: 2rem;
      display: none;
      margin-top: 10px;
      animation: rainbowText 5s linear infinite;
    }

    @keyframes rainbowText {
      0% { color: hsl(0, 100%, 50%); }
      16% { color: hsl(60, 100%, 50%); }
      33% { color: hsl(120, 100%, 50%); }
      50% { color: hsl(180, 100%, 50%); }
      66% { color: hsl(240, 100%, 50%); }
      83% { color: hsl(300, 100%, 50%); }
      100% { color: hsl(360, 100%, 50%); }
    }

    .plus1 {
      position: absolute;
      font-size: 20px;
      animation: floatUp 1s ease-out forwards;
      color: yellow;
      pointer-events: none;
    }

    @keyframes floatUp {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(-50px); }
    }

    .hidden { display: none; }

    #rebirthSection {
      margin-top: 20px;
      text-align: center;
    }

    #rebirthButton {
      background: purple;
      color: white;
      font-size: 18px;
      border: 5px solid white;
      border-radius: 10px;
      padding: 10px 20px;
    }
  </style>
</head>
<body>
  <section id="page1">
    <h1>Welcome!</h1>
    <button id="startButton">Start Game</button>
  </section>

  <div class="divider hidden" id="divider2"></div>

  <section id="page2" class="hidden">
    <h1 id="counter">0</h1>
    <button id="clickButton">Click Me</button>
    <div id="dps"></div>

    <div id="rebirthSection" class="hidden">
      <h2>Rebirths: <span id="rebirthCount">0</span></h2>
      <button id="rebirthButton">Rebirth (Cost: 10000)</button>
    </div>
  </section>

  <div class="divider hidden" id="divider3"></div>

  <section id="page3" class="hidden">
    <h1>Buildings</h1>
    <div class="shop" id="shop"></div>
  </section>

  <div class="divider hidden" id="divider4"></div>

  <section id="page4" class="hidden">
    <h1>Upgrades</h1>
    <div class="upgradeShop" id="upgrades"></div>
  </section>

  <script>
    let count = 0;
    let clickPower = 1;
    let globalDPS = 0;

    let rebirths = 0;
    let rebirthCost = 10000;
    let rebirthMultiplier = 1;

    const counter = document.getElementById('counter');
    const clickButton = document.getElementById('clickButton');
    const dpsDisplay = document.getElementById('dps');
    const shop = document.getElementById('shop');
    const upgradesShop = document.getElementById('upgrades');
    const startButton = document.getElementById('startButton');
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const page3 = document.getElementById('page3');
    const page4 = document.getElementById('page4');

    const rebirthSection = document.getElementById("rebirthSection");
    const rebirthCountDisplay = document.getElementById("rebirthCount");
    const rebirthButton = document.getElementById("rebirthButton");

    const buildings = [
      { name: "Autoclicker", baseCost: 100, cps: 1, owned: 0 },
      { name: "Grandpa", baseCost: 1000, cps: 5, owned: 0 },
      { name: "Farm", baseCost: 5000, cps: 25, owned: 0 },
      { name: "Factory", baseCost: 50000, cps: 150, owned: 0 },
      { name: "Wizard Tower", baseCost: 500000, cps: 1000, owned: 0 },
      { name: "Time Rift", baseCost: 10000000, cps: 10000, owned: 0 },
      { name: "AI Core", baseCost: 100000000, cps: 100000, owned: 0 },
      { name: "Universe Core", baseCost: 10000000000, cps: 1000000, owned: 0 }
    ];

    const buildingUpgrades = {
      "Autoclicker": ["Clicking Fingers I", "Clicking Fingers II", "Clicking Fingers III"],
      "Grandpa": ["Wisdom I", "Wisdom II", "Wisdom III"],
      "Farm": ["Fertilizer", "Irrigation", "Greenhouse"],
            "Factory": ["Assembly Boost", "Automation", "Efficiency"],
      "Wizard Tower": ["Magic Infusion", "Arcane Study", "Potion Workshop"],
      "Time Rift": ["Chrono Boost", "Time Distortion", "Paradox Engine"],
      "AI Core": ["Algorithm Upgrade", "Neural Enhancer", "Quantum Processor"],
      "Universe Core": ["Cosmic Amplifier", "Stellar Expansion", "Galactic Integration"]
    };

    const clickUpgrades = [
      { name: "Stronger Fingers", cost: 500, multiplier: 2, purchased: false },
      { name: "Iron Fingers", cost: 5000, multiplier: 2, purchased: false },
      { name: "Titanium Fingers", cost: 50000, multiplier: 2, purchased: false },
      { name: "Diamond Fingers", cost: 500000, multiplier: 2, purchased: false }
    ];

    const upgrades = [];

    Object.keys(buildingUpgrades).forEach(b => {
      const arr = buildingUpgrades[b];
      arr.forEach((name, i) => {
        const cost = Math.floor((buildings.find(x => x.name === b).baseCost) * (i + 1) * 10);
        upgrades.push({ name: name, cost: cost, type: "building", target: b, multiplier: 2, purchased: false });
      });
    });

    clickUpgrades.forEach(cu => upgrades.push({ ...cu, type: "click" }));
    upgrades.sort((a, b) => a.cost - b.cost);

    buildings.forEach((b, i) => {
      const btn = document.createElement('button');
      btn.id = `buy-${i}`;
      btn.textContent = `Buy ${b.name} (Cost: ${b.baseCost}, Owned: 0)`;
      btn.addEventListener('click', () => buyBuilding(i));
      shop.appendChild(btn);
    });

    function renderUpgrades() {
      upgradesShop.innerHTML = '';
      let visible = 0;
      upgrades.forEach((u, i) => {
        if (!u.purchased && visible < 5) {
          const btn = document.createElement('button');
          btn.id = `upgrade-${i}`;
          btn.textContent = `${u.name} (Cost: ${u.cost})`;
          btn.addEventListener('click', () => buyUpgrade(i));
          upgradesShop.appendChild(btn);
          visible++;
        }
      });
    }

    function updateCounter() {
      counter.textContent = Math.floor(count);
    }

    function updateDPS() {
      globalDPS = buildings.reduce((sum, b) => sum + b.owned * b.cps, 0) * rebirthMultiplier;
      if (globalDPS > 0) {
        dpsDisplay.style.display = 'block';
        dpsDisplay.textContent = `+${Math.floor(globalDPS)} /s`;
      } else {
        dpsDisplay.style.display = 'none';
      }
    }

    function updateRebirthUI() {
      rebirthCountDisplay.textContent = rebirths;
      rebirthButton.textContent = `Rebirth (Cost: ${Math.floor(rebirthCost)})`;
      if (count >= rebirthCost) {
        rebirthSection.classList.remove("hidden");
      } else {
        rebirthSection.classList.add("hidden");
      }
    }

    function buyBuilding(i) {
      const b = buildings[i];
      const cost = Math.floor(b.baseCost * Math.pow(1.2, b.owned));
      if (count >= cost) {
        count -= cost;
        b.owned++;
        updateCounter();
        updateDPS();
        document.getElementById(`buy-${i}`).textContent =
          `Buy ${b.name} (Cost: ${Math.floor(b.baseCost * Math.pow(1.2, b.owned))}, Owned: ${b.owned})`;
      }
    }

    function buyUpgrade(i) {
      const u = upgrades[i];
      if (!u.purchased && count >= u.cost) {
        count -= u.cost;
        u.purchased = true;
        if (u.type === "click") {
          clickPower *= u.multiplier * rebirthMultiplier;
        } else if (u.type === "building") {
          const target = buildings.find(b => b.name === u.target);
          target.cps *= u.multiplier * rebirthMultiplier;
        }
        updateCounter();
        updateDPS();
        renderUpgrades();
        updateRebirthUI();
      }
    }

    function addClick(amount) {
      count += amount;
      updateCounter();
      updateRebirthUI();
      const plus = document.createElement('div');
      plus.textContent = `+${amount}`;
      plus.classList.add('plus1');
      const rect = clickButton.getBoundingClientRect();
      plus.style.left = rect.left + rect.width / 2 + 'px';
      plus.style.top = rect.top - 20 + 'px';
      document.body.appendChild(plus);
      setTimeout(() => plus.remove(), 1000);
    }

    clickButton.addEventListener('click', () => addClick(clickPower));

    setInterval(() => {
      if (globalDPS > 0) addClick(globalDPS);
    }, 1000);

    startButton.addEventListener('click', () => {
      page1.classList.add('hidden');
      page2.classList.remove('hidden');
      page3.classList.remove('hidden');
      page4.classList.remove('hidden');
      updateDPS();
      updateRebirthUI();
    });

    rebirthButton.addEventListener('click', () => {
      if (count >= rebirthCost) {
        count = 0;
        clickPower = 1;
        buildings.forEach(b => {
          b.owned = 0;
          b.cps = b.baseCost / 100;
        });
        upgrades.forEach(u => u.purchased = false);
        rebirths++;
        rebirthMultiplier *= 1.5;
        rebirthCost *= 1.4;
        renderUpgrades();
        updateCounter();
        updateDPS();
        updateRebirthUI();
        buildings.forEach((b, i) => {
          document.getElementById(`buy-${i}`).textContent =
            `Buy ${b.name} (Cost: ${Math.floor(b.baseCost)}, Owned: 0)`;
        });
      }
    });

    renderUpgrades();

    function saveGame() {
      const saveData = {
        count,
        clickPower,
        buildings,
        upgrades,
        rebirths,
        rebirthCost,
        rebirthMultiplier
      };
      localStorage.setItem('rainbowClickerSave', JSON.stringify(saveData));
    }

    function loadGame() {
      const data = JSON.parse(localStorage.getItem('rainbowClickerSave'));
      if (!data) return;
      count = data.count;
      clickPower = data.clickPower;
      data.buildings.forEach((b, i) => {
        buildings[i].owned = b.owned;
        buildings[i].cps = b.cps;
        document.getElementById(`buy-${i}`).textContent =
          `Buy ${buildings[i].name} (Cost: ${Math.floor(buildings[i].baseCost * Math.pow(1.2, b.owned))}, Owned: ${b.owned})`;
      });
      data.upgrades.forEach((u, i) => {
        upgrades[i].purchased = u.purchased;
      });
      rebirths = data.rebirths || 0;
      rebirthCost = data.rebirthCost || 10000;
      rebirthMultiplier = data.rebirthMultiplier || 1;
      renderUpgrades();
      updateCounter();
      updateDPS();
      updateRebirthUI();
    }

    loadGame();
    setInterval(saveGame, 30000); // Save every 30s
  </script>
</body>
</html>


